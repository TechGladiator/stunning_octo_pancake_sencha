{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "clickSubmit"
    },
    "configAlternates": {
        "designer|userClassName": "string"
    },
    "name": "MyController",
    "designerId": "f476b862-e552-442e-a13c-7a92a88561de",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#submitButton",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "Submit",
                "fn": "onButtonClick",
                "implHandler": [
                    "if (!$(\"#chooseCSVFile-button-fileInputEl\")[0].files.length) {",
                    "    alert(\"Please choose at least one file to parse.\");",
                    "    return;",
                    "}",
                    "",
                    "function completeFn(results) {",
                    "    Ext.getCmp('recordButtons').show();",
                    "    Ext.getCmp('importFileName').show();",
                    "    Ext.getCmp('tabs').hide();",
                    "    fullResults = results;",
                    "    fieldNames = fullResults.meta.fields;",
                    "    fieldData = fullResults.data;",
                    "    fieldErrors = fullResults.errors;",
                    "    if (fullResults && fieldErrors) {",
                    "        if (fieldErrors) {",
                    "            errorCount = fieldErrors.length;",
                    "            firstError = fieldErrors[0];",
                    "        }",
                    "        if (fieldData && fieldData.length > 0) {",
                    "            rowCount = fieldData.length;",
                    "        }",
                    "    }",
                    "    // printStats('Parse complete');",
                    "    console.log('    Results:', fullResults);",
                    "}",
                    "",
                    "function errorFn(err, file) {",
                    "    console.log('ERROR:', err, file);",
                    "}",
                    "",
                    "const file = document.getElementById(\"chooseCSVFile-button-fileInputEl\").files[0];",
                    "",
                    "Papa.parse(file, {",
                    "    // base config to use for each file",
                    "    delimiter: \"\",",
                    "    header: true,",
                    "    dynamicTyping: false,",
                    "    skipEmptyLines: true,",
                    "    preview: 0,",
                    "    step: undefined,",
                    "    encoding: \"\",",
                    "    worker: false,",
                    "    comments: false,",
                    "    complete: completeFn,",
                    "    error: errorFn",
                    "});"
                ],
                "name": "click",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string",
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view"
            },
            "name": "onButtonClick",
            "designerId": "b3723cc9-abb9-44de-b085-d8577c16ee39"
        }
    ]
}